<!DOCTYPE html>
<!--
 Simulate root view. Classic split view
 iOS14-and-above version can use this approach or make the view a
 true root view via the new API
-->
<html>
    <head>
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content=" initial-scale=1, width=device-width, height=device-height, viewport-fit=cover">
    <link rel="stylesheet" href="css/index.css">
    <title>Demo</title>

    </head>
     <body>
        
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            
            const tableItems = [
              {
                itemText: "One",
                itemImage: "tv.png"
              },
              {
                itemText: "Two",
                itemImage: "tv.png"
              },
              {
                itemText: "Three",
                itemImage: "tv.png"
              },
              {
                itemText: "Four",
                itemImage: "tv.png"
              },
              {
                itemText: "Five",
                itemImage: "tv.png"
              }
            ];

         // var isDarkMode = window.matchMedia('(prefers-color-scheme:dark)');
        function doViewWeb()
         {
            cordova.plugins.SplitView.initSplitView();
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)
            {
                 // is dark
                cordova.plugins.SplitView.setPrimaryBackgroundColor(30,30,30);
                cordova.plugins.SplitView.setSecondaryBackgroundColor(30,30,30);
            }
            else
            {
                // not dark
                cordova.plugins.SplitView.setPrimaryBackgroundColor(228,228,228);
                cordova.plugins.SplitView.setSecondaryBackgroundColor(228,228,228);
            }
            cordova.plugins.SplitView.preferredPrimaryColumnWidthFraction = 0.5;
            cordova.plugins.SplitView.primaryTitle = "Primary";
            cordova.plugins.SplitView.secondaryTitle = "Secondary";
            cordova.plugins.SplitView.fullscreen = true;
            cordova.plugins.SplitView.closed = splitViewClosed;
            cordova.plugins.SplitView.show(null,null,false,null,null);
         }
        
        function doViewTable()
        {
            cordova.plugins.SplitView.initSplitView();
            cordova.plugins.SplitView.preferredPrimaryColumnWidthFraction = 0.5;
            cordova.plugins.SplitView.displayModeButtonItem = false;
            cordova.plugins.SplitView.primaryTitle = "Primary";
            cordova.plugins.SplitView.secondaryTitle = "Secondary";
            cordova.plugins.SplitView.closed = splitViewClosed;
            cordova.plugins.SplitView.useTableView = true;
            for(const item of tableItems)
            {
                cordova.plugins.SplitView.addTableItem(item.itemText,item.itemImage);
            }
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches)
            {
                // is dark
                cordova.plugins.SplitView.setSecondaryBackgroundColor(30,30,30);
            }
            else
            {
                // not dark
                cordova.plugins.SplitView.setSecondaryBackgroundColor(228,228,228);
            }
                   
            cordova.plugins.SplitView.fullscreen = true;
            cordova.plugins.SplitView.show(null,null,false,null,null);
        }
               
        function splitViewClosed( results,status)
        {
        }
        </script>
    </body>
</html>
